<!DOCTYPE html>
<!--suppress HtmlUnknownTag, HtmlFormInputWithoutLabel -->
<html lang="en">
<head>

    <meta charset="utf-8"/>

    <title>Round Table</title>

    <link href="styles/round-table.css" rel="stylesheet" type="text/css"/>

    <script src="scripts/libs/three.min.js" type="text/javascript"></script>
    <script src="scripts/libs/smoothie.min.js" type="text/javascript"></script>
    <script src="scripts/libs/lodash.min.js" type="text/javascript"></script>
    <script src="scripts/libs/jquery-2.0.3.min.js" type="text/javascript"></script>
    <script src="scripts/libs/jquery-ui-1.10.2.custom.min.js" type="text/javascript"></script>
    <script src="scripts/libs/handlebars.min.js" type="text/javascript"></script>
    <script src="scripts/libs/d3.v3.min.js" type="text/javascript"></script>
    <script src="scripts/libs/require-2.1.9.min.js" type="text/javascript" data-main="main"></script>

    <script id="module-template" type="text/x-handlebars-template">
        <div class="module {{this.id}}">
            <div class="pane-header">
                {{#if this.title}}
                <h1>{{this.title}}</h1>
                {{/if}}
                <div class="pane-header-links"></div>
            </div>
            <div class="pane-container"></div>
        </div>
    </script>

    <script id="camera-module-template" type="text/x-handlebars-template">
        <div>
            <div class="image-container">
                <canvas class="camera-canvas" width="640" height="480"></canvas>
                <div class="hover-pixel-info"></div>
            </div>
            <div class="camera-module-controls control-container flow"></div>
            <canvas class="pixel-label-inspector"></canvas>
        </div>
    </script>

    <script id="vision-module-template" type="text/x-handlebars-template">
        <dl class="tab-control">
            <dt>debug</dt>
            <dd>
                <h2>render</h2>
                <div class="image-features control-container column"></div>
                <hr/>
                <h2>colours</h2>
                <div class="image-colours control-container flow"></div>
                <hr/>
                <h2>capture</h2>
                <div class="capture control-container flow"></div>
            </dd>
            <dt>pixel labels</dt>
            <dd>
                <div class="pixel-labels"></div>
            </dd>
            <dt>general</dt>
            <dd>
                <h2>options</h2>
                <div class="vision-options"></div>
                <hr/>
                <h2>field edge</h2>
                <div class="field-edge control-container flow"></div>
                <hr/>
                <h2>object detection</h2>
                <div class="object-detection control-container flow"></div>
                <hr/>
                <h2>line detection</h2>
                <div class="line-detection control-container flow"></div>
                <hr/>
                <h2>granularity</h2>
                <div class="granularity control-container flow"></div>
            </dd>
            <dt>camera</dt>
            <dd>
                <div class="camera-settings control-container column"></div>
            </dd>
            <dt>head</dt>
            <dd>
                <div class="head-settings control-container flow"></div>
            </dd>
        </dl>
    </script>

    <script id="state-dump-module-template" type="text/x-handlebars-template">
        <div>
            <select></select>
            <div class="json-text"></div>
        </div>
    </script>

    <script id="config-module-template" type="text/x-handlebars-template">
        <div>
            <div class="header"></div>
            <div class="json-text"></div>
        </div>
    </script>

    <script id="body-figure-template" type="text/x-handlebars-template">
        <div class="body-figure" style="width:{{this.containerWidth}}px; height:{{this.containerHeight}}px;">
            {{#each this.joints}}
            <div class="joint" title="{{this.name}} ({{this.id}})" data-joint-id="{{this.id}}" style="left:{{this.x}}px; top:{{this.y}}px; width:{{this.width}}px; height:{{this.height}}px;"></div>{{/each}}
        </div>
    </script>

    <script id="game-module-template" type="text/x-handlebars-template">
        <div class="module-column-3">
            <div class="play-mode {{this.playMode}}">{{this.playMode}}</div>
            <div class="time-remaining">Time {{this.timeString}}</div>
        </div>
        <div class="module-column-3 team1">
            <h2>Team 1</h2>
            <div class="score">{{this.team1.score}}</div>
            <ul class="penalties">
                {{#each this.team1.players}}
                {{#if this.penalty}}
                {{#if this.isDone}}
                <li class="done">
                {{else}}
                <li>
                {{/if}}
                    <div class="title">{{this.penalty}}</div>
                    <div class="time">({{this.penaltySecondsRemaining}})</div>
                </li>
                {{/if}}
                {{/each}}
            </ul>
        </div>
        <div class="module-column-3 team1">
            <h2>Team 2</h2>
            <div class="score">{{this.team2.score}}</div>
            <ul class="penalties">
                {{#each this.team2.players}}
                {{#if this.penalty}}
                {{#if this.isDone}}
                <li class="done">
                {{else}}
                <li>
                {{/if}}
                    <div class="title">{{this.penalty}}</div>
                    <div class="time">({{this.penaltySecondsRemaining}})</div>
                </li>
                {{/if}}
                {{/each}}
            </ul>
        </div>
    </script>

</head>

<body>

<div id="header">
    <img id="logo" src="images/logo-boldhearts.png" width="105" height="105">
    <div id="header-content">
        <h1>Bold Hearts</h1>
        <h2>Round Table</h2>
        <div id="socket-connections"></div>
    </div>
    <div id="header-module-links"></div>
</div>

<div id="loading-indicator">
    <h1>Loading</h1>
    <div id="bouncer"></div>
</div>

<ul id="module-container"></ul>

<script type="text/javascript">
    require.config({
        baseUrl: 'scripts/app',
//        urlArgs: 'v=1',
        urlArgs: 'noCache=' + new Date().getTime(),
        waitSeconds: 15
    });
</script>

</body>
</html>
